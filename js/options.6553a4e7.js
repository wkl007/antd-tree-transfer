(self.webpackChunkantd_tree_transfer=self.webpackChunkantd_tree_transfer||[]).push([[798],{6513:function(e,t){"use strict";t.Z={treeData:[{id:1,parentId:0,key:"0",title:"工作台"},{id:2,parentId:0,key:"2",title:"仪表盘",children:[{id:3,parentId:2,key:"3",title:"欢迎页"},{id:4,parentId:2,key:"4",title:"分析页"},{id:5,parentId:2,key:"5",title:"监控页"}]},{id:6,parentId:0,key:"6",title:"表单页",children:[{id:7,parentId:6,key:"7",title:"基础表单"},{id:8,parentId:6,key:"8",title:"分步表单"},{id:9,parentId:6,key:"9",title:"高级表单"}]}],editKey:["6","9"]}},7974:function(e,t,r){"use strict";function i(e){return JSON.parse(JSON.stringify(e))}function a(e,t=!1){let r=[];const i=[];for(r=r.concat(JSON.parse(JSON.stringify(e)));r.length;){const e=r.shift();e?.children&&(r=r.concat(e.children),t||delete e.children),i.push(e)}return i}function h(e,t,r=0,i="parentId"){return e.forEach((a=>{if(a[i]===r){const r={...a,children:[]};h(e,r.children,a.id,i),r.children?.length||delete r.children,t.push(r)}})),t}function d(e){return a(e).map((e=>e.key))}function n(e,t){return t?.forEach((t=>{t?.children?.length?n(e,t.children):e.push(t.key)})),e}function s(e,t){const r=[];for(const i in t)for(const a in e)e[a]===t[i]&&r.push(e[a]);return r}function c(e,t){return-1!==e.indexOf(t)}function l(e,t,r="right"){return e.forEach((e=>{"right"===r?e.disabled=t.includes(e.key):"left"===r&&e.disabled&&t.includes(e.key)&&(e.disabled=!1),e.children&&l(e.children,t,r)})),e}function f(e,t,r="right"){const i=a(e),d=[],n=[];return i.forEach((e=>{if("right"===r){if(t.includes(e.key)){const t={...e};t.children&&delete t.children,d.push({...t})}}else if("left"===r&&!t.includes(e.key)){const t={...e};t.children&&delete t.children,d.push({...t})}})),h(d,n,0),n}function y(e,t){return e.forEach((e=>{t.push(e),e.children&&y(e.children,t)})),t}r.d(t,{Xh:function(){return i},Q8:function(){return d},Oy:function(){return n},dB:function(){return s},CK:function(){return c},rw:function(){return l},CV:function(){return f},xH:function(){return y}})},5663:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return g}});var i=r(6252);const a=(0,i.HX)("data-v-4a9bb07c");(0,i.dD)("data-v-4a9bb07c");const h={class:"transfer-wrapper"},d=(0,i.Uk)(" 获取值 "),n=(0,i.Uk)(" 设置值 ");(0,i.Cn)();const s=a(((e,t,r,s,c,l)=>{const f=(0,i.up)("transfer"),y=(0,i.up)("a-button"),k=(0,i.up)("a-space");return(0,i.wg)(),(0,i.j4)(i.HY,null,[(0,i.Wm)("div",h,[(0,i.Wm)(f,{ref:"transferRef","tree-data":e.treeData,"edit-key":e.editKey},null,8,["tree-data","edit-key"])]),(0,i.Wm)(k,null,{default:a((()=>[(0,i.Wm)(y,{type:"primary",onClick:e.getValue},{default:a((()=>[d])),_:1},8,["onClick"]),(0,i.Wm)(y,{onClick:e.setValue},{default:a((()=>[n])),_:1},8,["onClick"])])),_:1})],64)})),c=(0,i.HX)("data-v-80880960");(0,i.dD)("data-v-80880960");const l=(0,i.Uk)("暂无数据"),f=(0,i.Uk)("暂无数据");(0,i.Cn)();const y=c(((e,t,r,a,h,d)=>{const n=(0,i.up)("a-tree"),s=(0,i.up)("a-empty"),y=(0,i.up)("a-transfer");return(0,i.wg)(),(0,i.j4)(y,{"data-source":e.dataSource,"target-keys":e.targetKeys,render:e=>e.title,"show-select-all":!1,onChange:e.onChange},{children:c((({direction:r,selectedKeys:a,onItemSelect:h})=>["left"===r?((0,i.wg)(),(0,i.j4)(i.HY,{key:0},[e.leftTreeData.length?((0,i.wg)(),(0,i.j4)(n,{key:0,blockNode:"",checkable:"",defaultExpandAll:"","tree-data":e.leftTreeData,"checked-keys":e.leftCheckedKey,onCheck:(t,r)=>{e.handleLeftChecked(t,r,[...a,...e.targetKeys],h)}},null,8,["tree-data","checked-keys","onCheck"])):((0,i.wg)(),(0,i.j4)(s,{key:1},{description:c((()=>[l])),_:1}))],64)):"right"===r?((0,i.wg)(),(0,i.j4)(i.HY,{key:1},[e.rightTreeData.length?((0,i.wg)(),(0,i.j4)(n,{key:0,blockNode:"",checkable:"",defaultExpandAll:"","tree-data":e.rightTreeData,"checked-keys":e.rightCheckedKey,"onUpdate:checked-keys":t[1]||(t[1]=t=>e.rightCheckedKey=t),"expanded-keys":e.rightExpandedKey,"onUpdate:expanded-keys":t[2]||(t[2]=t=>e.rightExpandedKey=t),onCheck:(t,r)=>{e.handleRightChecked(t,r,[...a,...e.targetKeys],h)}},null,8,["tree-data","checked-keys","expanded-keys","onCheck"])):((0,i.wg)(),(0,i.j4)(s,{key:1},{description:c((()=>[f])),_:1}))],64)):(0,i.kq)("",!0)])),_:1},8,["data-source","target-keys","render","onChange"])}));var k=r(7974),o=(0,i.aZ)({name:"OptionsTransfer",props:{treeData:{type:Array,default:()=>[]},editKey:{type:Array,default:()=>[]}},data:()=>({targetKeys:[],dataSource:[],leftCheckedKey:[],leftHalfCheckedKeys:[],leftCheckedAllKey:[],leftTreeData:[],rightCheckedKey:[],rightCheckedAllKey:[],rightExpandedKey:[],rightTreeData:[],emitKeys:[],deepList:[]}),watch:{treeData:{deep:!0,handler(e){this.processTreeData()}},editKey:{deep:!0,handler(e){this.processTreeData()}}},created(){this.processTreeData()},methods:{processTreeData(){(0,k.xH)((0,k.Xh)(this.treeData),this.dataSource),this.editKey.length?this.processEditData():this.leftTreeData=(0,k.rw)((0,k.Xh)(this.treeData),this.leftCheckedKey)},processEditData(){this.leftCheckedAllKey=this.editKey,this.rightExpandedKey=this.editKey,this.targetKeys=this.editKey,this.rightTreeData=(0,k.CV)((0,k.Xh)(this.treeData),this.editKey),(0,k.Oy)(this.deepList,this.treeData),this.leftCheckedKey=(0,k.dB)(this.editKey,this.deepList),this.leftHalfCheckedKeys=this.leftCheckedAllKey.filter((e=>-1===this.leftCheckedKey.indexOf(e))),this.leftTreeData=(0,k.rw)((0,k.Xh)(this.treeData),this.leftCheckedKey),this.emitKeys=this.rightExpandedKey},onChange(e,t){"right"===t?(this.targetKeys=this.leftCheckedAllKey,this.rightCheckedKey=[],this.rightTreeData=(0,k.CV)((0,k.Xh)(this.treeData),this.leftCheckedAllKey,"right"),this.leftTreeData=(0,k.rw)((0,k.Xh)(this.treeData),this.leftCheckedKey,"right")):"left"===t&&(this.rightTreeData=(0,k.CV)(this.rightTreeData,this.rightCheckedKey,"left"),this.leftTreeData=(0,k.rw)(this.leftTreeData,this.rightCheckedKey,"left"),this.leftCheckedKey=this.leftCheckedKey.filter((e=>-1===this.rightCheckedKey.indexOf(e))),this.targetKeys=this.targetKeys.filter((e=>-1===this.rightCheckedKey.indexOf(e))),this.leftHalfCheckedKeys=this.leftHalfCheckedKeys.filter((e=>-1===this.rightCheckedKey.indexOf(e))),this.rightCheckedKey=[]),this.rightExpandedKey=(0,k.Q8)(this.rightTreeData),this.emitKeys=this.rightExpandedKey},handleLeftChecked(e,{node:t,halfCheckedKeys:r},i,a){this.leftCheckedKey=e,this.leftHalfCheckedKeys=[...new Set([...this.leftHalfCheckedKeys,...r])],this.leftCheckedAllKey=[...new Set([...this.leftHalfCheckedKeys,...r,...e])];const{eventKey:h}=t;a(h,!(0,k.CK)(i,h))},handleRightChecked(e,{node:t,halfCheckedKeys:r},i,a){this.rightCheckedKey=e,this.rightCheckedAllKey=[...r,...e];const{eventKey:h}=t;a(h,(0,k.CK)(e,h))}}});o.render=y,o.__scopeId="data-v-80880960";var u=o,K=r(6513),p=(0,i.aZ)({name:"Options",components:{Transfer:u},data:()=>({treeData:K.Z.treeData,editKey:[]}),methods:{getValue(){this.$refs.transferRef},setValue(){this.editKey=K.Z.editKey}}});p.render=s,p.__scopeId="data-v-4a9bb07c";var g=p}}]);