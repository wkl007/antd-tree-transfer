(self.webpackChunkantd_tree_transfer=self.webpackChunkantd_tree_transfer||[]).push([[862],{6513:function(e,t){"use strict";t.Z={treeData:[{id:1,parentId:0,key:"0",title:"工作台"},{id:2,parentId:0,key:"2",title:"仪表盘",children:[{id:3,parentId:2,key:"3",title:"欢迎页"},{id:4,parentId:2,key:"4",title:"分析页"},{id:5,parentId:2,key:"5",title:"监控页"}]},{id:6,parentId:0,key:"6",title:"表单页",children:[{id:7,parentId:6,key:"7",title:"基础表单"},{id:8,parentId:6,key:"8",title:"分步表单"},{id:9,parentId:6,key:"9",title:"高级表单"}]}],editKey:["6","9"]}},7974:function(e,t,n){"use strict";function r(e){return JSON.parse(JSON.stringify(e))}function a(e,t=!1){let n=[];const r=[];for(n=n.concat(JSON.parse(JSON.stringify(e)));n.length;){const e=n.shift();e?.children&&(n=n.concat(e.children),t||delete e.children),r.push(e)}return r}function d(e,t,n=0,r="parentId"){return e.forEach((a=>{if(a[r]===n){const n={...a,children:[]};d(e,n.children,a.id,r),n.children?.length||delete n.children,t.push(n)}})),t}function i(e){return a(e).map((e=>e.key))}function c(e,t){return t?.forEach((t=>{t?.children?.length?c(e,t.children):e.push(t.key)})),e}function l(e,t){const n=[];for(const r in t)for(const a in e)e[a]===t[r]&&n.push(e[a]);return n}function h(e,t){return-1!==e.indexOf(t)}function f(e,t,n="right"){return e.forEach((e=>{"right"===n?e.disabled=t.includes(e.key):"left"===n&&e.disabled&&t.includes(e.key)&&(e.disabled=!1),e.children&&f(e.children,t,n)})),e}function s(e,t,n="right"){const r=a(e),i=[],c=[];return r.forEach((e=>{if("right"===n){if(t.includes(e.key)){const t={...e};t.children&&delete t.children,i.push({...t})}}else if("left"===n&&!t.includes(e.key)){const t={...e};t.children&&delete t.children,i.push({...t})}})),d(i,c,0),c}function y(e,t){return e.forEach((e=>{t.push(e),e.children&&y(e.children,t)})),t}n.d(t,{Xh:function(){return r},Q8:function(){return i},Oy:function(){return c},dB:function(){return l},CK:function(){return h},rw:function(){return f},CV:function(){return s},xH:function(){return y}})},7150:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return D}});var r=n(6252);const a=(0,r.HX)("data-v-2249b2a7");(0,r.dD)("data-v-2249b2a7");const d={class:"transfer-wrapper"},i=(0,r.Uk)(" 获取值 "),c=(0,r.Uk)(" 设置值 ");(0,r.Cn)();const l=a(((e,t,n,l,h,f)=>{const s=(0,r.up)("transfer"),y=(0,r.up)("a-button"),o=(0,r.up)("a-space");return(0,r.wg)(),(0,r.j4)(r.HY,null,[(0,r.Wm)("div",d,[(0,r.Wm)(s,{ref:"transferRef","tree-data":e.treeData,"edit-key":e.editKey},null,8,["tree-data","edit-key"])]),(0,r.Wm)(o,null,{default:a((()=>[(0,r.Wm)(y,{type:"primary",onClick:e.getValue},{default:a((()=>[i])),_:1},8,["onClick"]),(0,r.Wm)(y,{onClick:e.setValue},{default:a((()=>[c])),_:1},8,["onClick"])])),_:1})],64)}));var h=n(2262);const f=(0,r.HX)("data-v-0d6b1589");(0,r.dD)("data-v-0d6b1589");const s=(0,r.Uk)("暂无数据"),y=(0,r.Uk)("暂无数据");(0,r.Cn)();const o=f(((e,t,n,a,d,i)=>{const c=(0,r.up)("a-tree"),l=(0,r.up)("a-empty"),h=(0,r.up)("a-transfer");return(0,r.wg)(),(0,r.j4)(h,{"data-source":e.dataSource,"target-keys":e.targetKeys,render:e=>e.title,"show-select-all":!1,onChange:e.onChange},{children:f((({direction:n,selectedKeys:a,onItemSelect:d})=>["left"===n?((0,r.wg)(),(0,r.j4)(r.HY,{key:0},[e.leftTreeData.length?((0,r.wg)(),(0,r.j4)(c,{key:0,blockNode:"",checkable:"",defaultExpandAll:"","tree-data":e.leftTreeData,"checked-keys":e.leftCheckedKey,onCheck:(t,n)=>{e.handleLeftChecked(t,n,[...a,...e.targetKeys],d)}},null,8,["tree-data","checked-keys","onCheck"])):((0,r.wg)(),(0,r.j4)(l,{key:1},{description:f((()=>[s])),_:1}))],64)):"right"===n?((0,r.wg)(),(0,r.j4)(r.HY,{key:1},[e.rightTreeData.length?((0,r.wg)(),(0,r.j4)(c,{key:0,blockNode:"",checkable:"",defaultExpandAll:"","tree-data":e.rightTreeData,"checked-keys":e.rightCheckedKey,"onUpdate:checked-keys":t[1]||(t[1]=t=>e.rightCheckedKey=t),"expanded-keys":e.rightExpandedKey,"onUpdate:expanded-keys":t[2]||(t[2]=t=>e.rightExpandedKey=t),onCheck:(t,n)=>{e.handleRightChecked(t,n,[...a,...e.targetKeys],d)}},null,8,["tree-data","checked-keys","expanded-keys","onCheck"])):((0,r.wg)(),(0,r.j4)(l,{key:1},{description:f((()=>[y])),_:1}))],64)):(0,r.ry)("",!0)])),_:1},8,["data-source","target-keys","render","onChange"])}));var k=n(7974);function u(e){const t=(0,h.qj)({targetKeys:[],dataSource:[],leftCheckedKey:[],leftHalfCheckedKeys:[],leftCheckedAllKey:[],leftTreeData:[],rightCheckedKey:[],rightCheckedAllKey:[],rightExpandedKey:[],rightTreeData:[],emitKeys:[],deepList:[]});function n(){t.leftCheckedAllKey=e.editKey,t.rightExpandedKey=e.editKey,t.targetKeys=e.editKey,t.rightTreeData=(0,k.CV)((0,k.Xh)(e.treeData),e.editKey),(0,k.Oy)(t.deepList,e.treeData),t.leftCheckedKey=(0,k.dB)(e.editKey,t.deepList),t.leftHalfCheckedKeys=t.leftCheckedAllKey.filter((e=>-1===t.leftCheckedKey.indexOf(e))),t.leftTreeData=(0,k.rw)((0,k.Xh)(e.treeData),t.leftCheckedKey),t.emitKeys=t.rightExpandedKey}return(0,r.YP)(e,(()=>{n()})),(0,r.bv)((()=>{(0,k.xH)((0,k.Xh)(e.treeData),t.dataSource),e.editKey.length?n():t.leftTreeData=(0,k.rw)((0,k.Xh)(e.treeData),t.leftCheckedKey)})),{state:t,onChange:function(n,r){"right"===r?(t.targetKeys=t.leftCheckedAllKey,t.rightCheckedKey=[],t.rightTreeData=(0,k.CV)((0,k.Xh)(e.treeData),t.leftCheckedAllKey,"right"),t.leftTreeData=(0,k.rw)((0,k.Xh)(e.treeData),t.leftCheckedKey,"right")):"left"===r&&(t.rightTreeData=(0,k.CV)(t.rightTreeData,t.rightCheckedKey,"left"),t.leftTreeData=(0,k.rw)(t.leftTreeData,t.rightCheckedKey,"left"),t.leftCheckedKey=t.leftCheckedKey.filter((e=>-1===t.rightCheckedKey.indexOf(e))),t.targetKeys=t.targetKeys.filter((e=>-1===t.rightCheckedKey.indexOf(e))),t.leftHalfCheckedKeys=t.leftHalfCheckedKeys.filter((e=>-1===t.rightCheckedKey.indexOf(e))),t.rightCheckedKey=[]),t.rightExpandedKey=(0,k.Q8)(t.rightTreeData),t.emitKeys=t.rightExpandedKey},handleLeftChecked:function(e,{node:n,halfCheckedKeys:r},a,d){t.leftCheckedKey=e,t.leftHalfCheckedKeys=[...new Set([...t.leftHalfCheckedKeys,...r])],t.leftCheckedAllKey=[...new Set([...t.leftHalfCheckedKeys,...r,...e])];const{eventKey:i}=n;d(i,!(0,k.CK)(a,i))},handleRightChecked:function(e,{node:n,halfCheckedKeys:r},a,d){t.rightCheckedKey=e,t.rightCheckedAllKey=[...r,...e];const{eventKey:i}=n;d(i,(0,k.CK)(e,i))}}}var K=(0,r.aZ)({name:"CompositionTransfer",props:{treeData:{type:Array,default:()=>[]},editKey:{type:Array,default:()=>[]}},setup(e){const{state:t,onChange:n,handleLeftChecked:r,handleRightChecked:a}=u(e);return{...(0,h.BK)(t),onChange:n,handleLeftChecked:r,handleRightChecked:a}}});K.render=o,K.__scopeId="data-v-0d6b1589";var g=K,C=n(6513),p=(0,r.aZ)({name:"Composition",components:{Transfer:g},setup(){const e=(0,h.qj)({transferRef:void 0,treeData:C.Z.treeData,editKey:[]});return{...(0,h.BK)(e),getValue:function(){},setValue:function(){e.editKey=C.Z.editKey}}}});p.render=l,p.__scopeId="data-v-2249b2a7";var D=p}}]);