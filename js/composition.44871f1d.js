(self.webpackChunkantd_tree_transfer=self.webpackChunkantd_tree_transfer||[]).push([[862],{6513:function(e,t){"use strict";t.Z={treeData:[{id:1,parentId:0,key:"0",title:"工作台"},{id:2,parentId:0,key:"2",title:"仪表盘",children:[{id:3,parentId:2,key:"3",title:"欢迎页"},{id:4,parentId:2,key:"4",title:"分析页"},{id:5,parentId:2,key:"5",title:"监控页"}]},{id:6,parentId:0,key:"6",title:"表单页",children:[{id:7,parentId:6,key:"7",title:"基础表单"},{id:8,parentId:6,key:"8",title:"分步表单"},{id:9,parentId:6,key:"9",title:"高级表单"}]}],editKey:["6","9"]}},7974:function(e,t,r){"use strict";function n(e){return JSON.parse(JSON.stringify(e))}function a(e,t=!1){let r=[];const n=[];for(r=r.concat(JSON.parse(JSON.stringify(e)));r.length;){const e=r.shift();e?.children&&(r=r.concat(e.children),t||delete e.children),n.push(e)}return n}function d(e,t,r=0,n="parentId"){return e.forEach((a=>{if(a[n]===r){const r={...a,children:[]};d(e,r.children,a.id,n),r.children?.length||delete r.children,t.push(r)}})),t}function i(e){return a(e).map((e=>e.key))}function c(e,t){return t?.forEach((t=>{t?.children?.length?c(e,t.children):e.push(t.key)})),e}function l(e,t){const r=[];for(const n in t)for(const a in e)e[a]===t[n]&&r.push(e[a]);return r}function h(e,t){return-1!==e.indexOf(t)}function f(e,t,r="right"){return e.forEach((e=>{"right"===r?e.disabled=t.includes(e.key):"left"===r&&e.disabled&&t.includes(e.key)&&(e.disabled=!1),e.children&&f(e.children,t,r)})),e}function y(e,t,r="right"){const n=a(e),i=[],c=[];return n.forEach((e=>{if("right"===r){if(t.includes(e.key)){const t={...e};t.children&&delete t.children,i.push({...t})}}else if("left"===r&&!t.includes(e.key)){const t={...e};t.children&&delete t.children,i.push({...t})}})),d(i,c,0),c}function s(e,t){return e.forEach((e=>{t.push(e),e.children&&s(e.children,t)})),t}r.d(t,{Xh:function(){return n},Q8:function(){return i},Oy:function(){return c},dB:function(){return l},CK:function(){return h},rw:function(){return f},CV:function(){return y},xH:function(){return s}})},6969:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return p}});var n=r(6252);const a=(0,n.HX)("data-v-2249b2a7");(0,n.dD)("data-v-2249b2a7");const d={class:"transfer-wrapper"},i=(0,n.Uk)(" 获取值 "),c=(0,n.Uk)(" 设置值 ");(0,n.Cn)();const l=a(((e,t,r,l,h,f)=>{const y=(0,n.up)("transfer"),s=(0,n.up)("a-button"),o=(0,n.up)("a-space");return(0,n.wg)(),(0,n.j4)(n.HY,null,[(0,n.Wm)("div",d,[(0,n.Wm)(y,{ref:"transferRef","tree-data":e.treeData,"edit-key":e.editKey},null,8,["tree-data","edit-key"])]),(0,n.Wm)(o,null,{default:a((()=>[(0,n.Wm)(s,{type:"primary",onClick:e.getValue},{default:a((()=>[i])),_:1},8,["onClick"]),(0,n.Wm)(s,{onClick:e.setValue},{default:a((()=>[c])),_:1},8,["onClick"])])),_:1})],64)}));var h=r(2262);const f=(0,n.HX)("data-v-4a04510d");(0,n.dD)("data-v-4a04510d");const y=(0,n.Uk)("暂无数据"),s=(0,n.Uk)("暂无数据");(0,n.Cn)();const o=f(((e,t,r,a,d,i)=>{const c=(0,n.up)("a-tree"),l=(0,n.up)("a-empty"),h=(0,n.up)("a-transfer");return(0,n.wg)(),(0,n.j4)(h,{"data-source":e.dataSource,"target-keys":e.targetKeys,render:e=>e.title,"show-select-all":!1,onChange:e.onChange},{children:f((({direction:r,selectedKeys:a,onItemSelect:d})=>["left"===r?((0,n.wg)(),(0,n.j4)(n.HY,{key:0},[e.leftTreeData.length?((0,n.wg)(),(0,n.j4)(c,{key:0,blockNode:"",checkable:"",defaultExpandAll:"","tree-data":e.leftTreeData,"checked-keys":e.leftCheckedKey,onCheck:(t,r)=>{e.handleLeftChecked(t,r,[...a,...e.targetKeys],d)}},null,8,["tree-data","checked-keys","onCheck"])):((0,n.wg)(),(0,n.j4)(l,{key:1},{description:f((()=>[y])),_:1}))],64)):"right"===r?((0,n.wg)(),(0,n.j4)(n.HY,{key:1},[e.rightTreeData.length?((0,n.wg)(),(0,n.j4)(c,{key:0,blockNode:"",checkable:"",defaultExpandAll:"","tree-data":e.rightTreeData,"checked-keys":e.rightCheckedKey,"onUpdate:checked-keys":t[1]||(t[1]=t=>e.rightCheckedKey=t),"expanded-keys":e.rightExpandedKey,"onUpdate:expanded-keys":t[2]||(t[2]=t=>e.rightExpandedKey=t),onCheck:(t,r)=>{e.handleRightChecked(t,r,[...a,...e.targetKeys],d)}},null,8,["tree-data","checked-keys","expanded-keys","onCheck"])):((0,n.wg)(),(0,n.j4)(l,{key:1},{description:f((()=>[s])),_:1}))],64)):(0,n.ry)("",!0)])),_:1},8,["data-source","target-keys","render","onChange"])}));var k=r(7974),u=(0,n.aZ)({name:"CompositionTransfer",props:{treeData:{type:Array,default:()=>[]},editKey:{type:Array,default:()=>[]}},setup(e){const t=(0,h.qj)({targetKeys:[],dataSource:[],leftCheckedKey:[],leftHalfCheckedKeys:[],leftCheckedAllKey:[],leftTreeData:[],rightCheckedKey:[],rightCheckedAllKey:[],rightExpandedKey:[],rightTreeData:[],emitKeys:[],deepList:[]});function r(){t.leftCheckedAllKey=e.editKey,t.rightExpandedKey=e.editKey,t.targetKeys=e.editKey,t.rightTreeData=(0,k.CV)((0,k.Xh)(e.treeData),e.editKey),(0,k.Oy)(t.deepList,e.treeData),t.leftCheckedKey=(0,k.dB)(e.editKey,t.deepList),t.leftHalfCheckedKeys=t.leftCheckedAllKey.filter((e=>-1===t.leftCheckedKey.indexOf(e))),t.leftTreeData=(0,k.rw)((0,k.Xh)(e.treeData),t.leftCheckedKey),t.emitKeys=t.rightExpandedKey}return(0,n.YP)(e,(()=>{r()})),(0,n.bv)((()=>{(0,k.xH)((0,k.Xh)(e.treeData),t.dataSource),e.editKey.length?r():t.leftTreeData=(0,k.rw)((0,k.Xh)(e.treeData),t.leftCheckedKey)})),{...(0,h.BK)(t),onChange:function(r,n){"right"===n?(t.targetKeys=t.leftCheckedAllKey,t.rightCheckedKey=[],t.rightTreeData=(0,k.CV)((0,k.Xh)(e.treeData),t.leftCheckedAllKey,"right"),t.leftTreeData=(0,k.rw)((0,k.Xh)(e.treeData),t.leftCheckedKey,"right")):"left"===n&&(t.rightTreeData=(0,k.CV)(t.rightTreeData,t.rightCheckedKey,"left"),t.leftTreeData=(0,k.rw)(t.leftTreeData,t.rightCheckedKey,"left"),t.leftCheckedKey=t.leftCheckedKey.filter((e=>-1===t.rightCheckedKey.indexOf(e))),t.targetKeys=t.targetKeys.filter((e=>-1===t.rightCheckedKey.indexOf(e))),t.leftHalfCheckedKeys=t.leftHalfCheckedKeys.filter((e=>-1===t.rightCheckedKey.indexOf(e))),t.rightCheckedKey=[]),t.rightExpandedKey=(0,k.Q8)(t.rightTreeData),t.emitKeys=t.rightExpandedKey},handleLeftChecked:function(e,{node:r,halfCheckedKeys:n},a,d){t.leftCheckedKey=e,t.leftHalfCheckedKeys=[...new Set([...t.leftHalfCheckedKeys,...n])],t.leftCheckedAllKey=[...new Set([...t.leftHalfCheckedKeys,...n,...e])];const{eventKey:i}=r;d(i,!(0,k.CK)(a,i))},handleRightChecked:function(e,{node:r,halfCheckedKeys:n},a,d){t.rightCheckedKey=e,t.rightCheckedAllKey=[...n,...e];const{eventKey:i}=r;d(i,(0,k.CK)(e,i))}}}});u.render=o,u.__scopeId="data-v-4a04510d";var K=u,g=r(6513),C=(0,n.aZ)({name:"Composition",components:{Transfer:K},setup(){const e=(0,h.qj)({transferRef:void 0,treeData:g.Z.treeData,editKey:[]});return{...(0,h.BK)(e),getValue:function(){},setValue:function(){e.editKey=g.Z.editKey}}}});C.render=l,C.__scopeId="data-v-2249b2a7";var p=C}}]);